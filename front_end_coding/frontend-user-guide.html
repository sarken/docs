<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
		<head>
	  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Front End User Guide</title>
		<link rel="stylesheet" type="text/css" href="front-end.css"/>
	</head>
	<body>
		<div class="wrapper">
			<div class="article">
				<h1>Front End User Guide</h1>
				<p><strong>Needs updating to new cascade 11/10/2011</strong></p>
				  <p>This is a detailed theoretical guide to the archive interface, focusing on the style sheets. If you would rather, here's a practical step by step tutorial on <a href="writing-a-skin.html">making a skin</a>.
				</p>
				<p>Read this guide <em>first</em>. Rails is <acronym title="Don't Repeat Yourself">DRY</acronym> and so is our front end; this is <strong>not</strong> like what you have done before.
				</p>
				<h2>Our Philosophy</h2>
				<p>The <acronym title="archive of our own">AO3</acronym> front end, which is <a href="semantic-xhtml"><acronym title="eXtensible HyperText Markup Language">XHTML</acronym></a> and <a href="whatiscss"><acronym title="Cascading Style Sheets">CSS</acronym></a>, uses a classification system that might be new to you in some ways, but will be familiar in others.
				</p>
				<p>Rules on the archive are written in modules, and generally in order from the most general or global rules, that affect the most things on the most pages, to the most specific rules, that move a single element in one context. We continually combine and simplify rules, finding commonalities of purpose behind ways of displaying information, working towards a simple and consistent interface.
				</p>
				<p>To put this another way: In our stylesheet, classes are laid out so more general classes (<code>.blurb, .index, .work</code>) are modified by more specific classes further down the cascade. Just like a chair can be modified by the adjective hard, a blurb can be modified by the class collection.
				</p>
				<p>The core process in all front end design is the naming of things. By really thinking about each element we deal with, and describing it simply and aptly, we create the most <em>readable</em> (and therefore flexible, accessible, and maintainable) interface we can. This is true for <a href="classes.html"><acronym>CSS</acronym> classes</a>, for style rules, for <a href="debugging.html">bug fixing</a>, for <a href="semantic-xhtml"><acronym>XHTML</acronym> markup</a>, and for <a href="forms.html">page design</a>.
				</p>
				<p>Layout makers and post-release users: If you are remaking the interface, you can change this hierarchy because each object is described with many classes and so the display can be organised in lots of different ways.
				</p>
				<h3>Levels</h3>
				<p>There are about thirty stylesheets loaded by the document head, plus Internet Explorer conditionals. The order the sheets are listed in the document head is the <a href="debugging-the-cascade.html#order">cascade hierarchy</a>.
				</p>
				<h4>Core</h4>
				<p>The archive core defines typographical rules (font size etc) and basic element display. It doesn't use a lot of custom selectors like <code>#dashboard</code> or <code>.blurb</code>. Everything on the archive inherits these global, core rules. Let's move on to the sheet called <a href="http://archiveofourown.org/stylesheets/site-chrome.css">site-chrome.css</a>
				</p>
				<h4>Chrome</h4>
				The site chrome modifies the core rules, so it comes after archive core. The page regions are laid out first. These are <em>persistent</em>, meaning they appear on every page, so they're the top level of selector.
				(diagram)
				<ul>
					<li>#header</li>
					<li>#dashboard</li>
					<li><a href="#main">#main</a></li>
					<li>.navigation <dfn>consider the archive as three groups: <strong>input</strong> (forms) <strong>output</strong> (content) and <strong>actions</strong> (buttons and links). <code>navigation</code> is the name we use for actions.</dfn> </li>
				</ul>
				<h5 id="main">Main</h5>
				<p><code>div id="main"</code> holds all the content on the archive. Within <code>#main</code>, we use repeating groups of <acronym>HTML</acronym> elements to display different kinds of content and different ways of interacting with it. The next level of selector - describing things contained within <code>#main</code> - is <a href="classes.html#metadata-grouping">Metadata Grouping</a>.
				</p>
				<h5>Metadata groupings</h5>
				<ul>
					<li>.index <dfn>:list of blurbs</dfn></li>
					<li><a href="blurb.html">.blurb</a> <dfn>:standalone metadata of work, collection, bookmark, shown in indices</dfn></li>
					<li>.meta <dfn>:complementary meta data shown at page head</dfn></li>
					<li>.profile <dfn>:home page metadata</dfn></li>
					<li>.preface <dfn>:complementary metadata surrounding individual work (notes, description, summary)</dfn>
					</li>
					<li>.stats <dfn>:sublist of countable metadata (hits, comments, bookmarks, wordcount etc)</dfn></li>
				</ul>
				<p>The way we display these groupings changes according to the kind of content it describes, so the next level of selector modifies these rules by <a href="classes.html#content-type">content type</a>.
				</p>
				<h5>Content type</h5>
				<ul>
					<li>.work</li>
					<li>.series</li>
					<li>.bookmark</li>
					<li>.collection</li>
					<li>.chapter</li>
					<li>.comment</li>
					<li>.tag</li>
					<li>.landmark <dfn>:normally not visible, landmarks announce a page region or content block</dfn></li>
				</ul>
				<p>What content you see is also modified by who you are, so we can also use the modifiers of <a href="classes.html#roles-and-states">roles and states</a>.
				</p>
				<h5>Roles and States</h5>
				<ul>
					<li>.current <dfn>:navigation modifer used to indicate the current position in the navigation options</dfn>
					</li>
					<li>.odd <dfn>:literally odd-numbered instances of an object</dfn></li>
					<li>.even</li>
					<li>.own</li>
					<li>.anonymous</li>
					<li>.orphan</li>
					<li>.pseud</li>
					<li>.user</li>
					<li>.admin</li>
					<li>.wrangler</li>
					<li>.draft</li>
					<li><a href="frontend-user-guide.html#ugv">.userstuff</a> <dfn>: describes content that has been inputted by a user via a textbox, so anything with user-generated html. These views are styled in their own sheet
						</dfn>
					</li>
				</ul>
				<h3>Page by Page Views</h3>
				<p>Within the division <code>#main</code> the view changes. There are N basic views:</p>
				<h6>Work view</h6>
				<p>Works are viewed on their own pages. They are similar to a blog post: metadata at the top and comments at the bottom. Here's a diagram of the work view.
				</p>
				<h6>Bookmark view</h6>
				<p>Bookmarks can be viewed on their own or grouped with all the bookmarks of a work. Grouped together, they are an index view.
				</p>
				<h6>User, Collection view</h6>
				<p>Each identity has its own set of pages, listing activities like works written, works viewed, personal profile, preference settings, and so on. There's a persistent dashboard navigation to move through these pages.
				</p>
				<h6>Profile view</h6>
				<p>Profile view is only used in user/collection.</p>
				<h6>Index view</h6>
				<p>Indices are lists of works, users, collections, or bookmarks. The metadata (title, tags, summary...) describing them is grouped in a <a href="blurb.html">blurb</a>.
				</p>
				<p>Views follow regular layouts and contain repeating groups of html elements. These groups are described with <a href="classes.html">classes</a>. We use single English words in our classes. Rails generates some classes, and those contain underscores; you can use them to target rules at individual pages.
				<h3>Objects</h3>
				<p>Now we understand the <a href="http://en.wikipedia.org/wiki/Taxonomy">taxonomy</a>, let's look at how to manipulate different structures in the Archive. It's useful to think of these groups as objects.</p>
				<p>There are different objects, or works, in the archive that you can interact with. A work might be a bookmark, a story, a comment, and they all follow a consistent <em>design pattern</em>: NAME CONTENT. Many other pieces of information may be attached to this HEAD BODY structure; this pattern is how all web pages are structured too, and all emails, sms messages, and so on. First we name something, then we show it. The archive by default shows as much information and as many actions as possible. Because all the information is <em>classed</em>, any of it can be hidden, de-emphasised or highlighted with CSS. We can easily reorganise pages as we develop and gladly allow our users to reorganise things to their own liking.
				</p>
				<h5>Blurbs</h5>
				<p>Blurbs are like identity cards. They're probably the most used structure in the archive, so let's <a href="blurb.html">look at the blurb in detail</a>. </p>
				
				<h5>Back</h5>
				<p>Return to the <a href="index.html">documentation index</a>.</p>
			</div>
		</div>
	</body>
</html>